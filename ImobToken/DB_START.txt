CREATE TABLE TIPOIMOVELTOKEN (
    ID NUMBER PRIMARY KEY,
    NOME VARCHAR(25) NOT NULL
);

CREATE SEQUENCE TIPOIMOVELTOKEN_ID_SEQ; 

CREATE OR REPLACE TRIGGER TR_SEQ_TIPOIMOVELTOKEN BEFORE INSERT ON TIPOIMOVELTOKEN FOR EACH ROW 
BEGIN
SELECT TIPOIMOVELTOKEN_ID_SEQ.NEXTVAL
INTO :new.ID
FROM dual;
END;

CREATE TABLE IMOVELTOKEN (
    ID NUMBER PRIMARY KEY,
    NOME VARCHAR(25) NOT NULL,
    VALOR NUMBER NOT NULL,
    METROSQUADRADOS INTEGER NOT NULL,
    FAIXARENDA INTEGER NOT NULL,
    TIPOIMOVELID NUMBER,
    CONSTRAINT FK_IMOVEL_IMOVELTIPO
        FOREIGN KEY (TIPOIMOVELID) 
        REFERENCES TIPOIMOVELTOKEN (ID)
);


CREATE SEQUENCE IMOVEL_ID_SEQ; 

CREATE OR REPLACE TRIGGER TR_SEQ_IMOVEL BEFORE INSERT ON IMOVELTOKEN FOR EACH ROW 
BEGIN
SELECT IMOVEL_ID_SEQ.NEXTVAL
INTO :new.ID
FROM dual;
END;

insert into TIPOIMOVELTOKEN (NOME) VALUES ('APARTAMENTO')
insert into IMOVELTOKEN (NOME, VALOR, METROSQUADRADOS, FAIXARENDA, TIPOIMOVELID) VALUES ('APARTAMENTO CHIQUE', 3000.20, 50, 2951, 1)

commit